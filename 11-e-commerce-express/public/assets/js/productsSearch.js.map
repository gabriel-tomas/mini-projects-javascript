{"version":3,"file":"productsSearch.js","mappings":"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","sources":["webpack://11-e-commerce-express/./frontend/assets/js/productApi.js","webpack://11-e-commerce-express/./frontend/assets/js/localStorageSaverAndGet.js","webpack://11-e-commerce-express/./frontend/assets/js/productCard.js","webpack://11-e-commerce-express/./frontend/assets/js/products-search/getItemSearch.js"],"sourcesContent":["class ProductsRoutes {\r\n    constructor() {\r\n        Object.defineProperty(this, \"mainRoute\", {\r\n            enumerable: true,\r\n            writable: false,\r\n            configurable: false,\r\n            value: 'https://dummyjson.com'\r\n        })\r\n        Object.defineProperty(this, \"allProductsRoute\", {\r\n            enumerable: true,\r\n            writable: false,\r\n            configurable:false,\r\n            value: `${this.mainRoute}/products`\r\n        })\r\n        let searchLink = null;\r\n        Object.defineProperty(this, \"setSearchRoute\", {\r\n            get: function() {\r\n                return searchLink;\r\n            },\r\n            set: function(value) {\r\n                if(typeof value !== \"string\") return;\r\n                searchLink = `${this.mainRoute}/products/search?q=${value}`;\r\n            }\r\n        })\r\n        let singleId = null;\r\n        Object.defineProperty(this, \"setSingleRoute\", {\r\n            enumerable: true,\r\n            configurable: false,\r\n            get: function() {\r\n                return singleId;\r\n            },\r\n            set: function(id) { // https://dummyjson.com/products/2\r\n                singleId = `${this.mainRoute}/products/${id}`;\r\n            }\r\n        })\r\n        Object.defineProperty(this, \"allCategoriesRoute\", {\r\n            enumerable: true,\r\n            writable: false,\r\n            configurable:false,\r\n            value: `${this.mainRoute}/products/categories`\r\n        })\r\n        let searchCategory = null;\r\n        Object.defineProperty(this, \"setCategoryRoute\", {\r\n            get: function() {\r\n                return searchCategory;\r\n            },\r\n            set: function(value) {\r\n                if(typeof value !== \"string\") return;\r\n                searchCategory = `${this.mainRoute}/products/category/${value}`;\r\n            }\r\n        })\r\n    }\r\n\r\n    static fetchRoute(route, callback) {\r\n        fetch(route).then(res => {\r\n            res.json().then(data => {\r\n                if(callback) callback(data);\r\n            });\r\n        });\r\n    }\r\n\r\n    getAllProducts(skip=0, limit=30, callback) {\r\n        ProductsRoutes.fetchRoute(`${this.allProductsRoute}?skip=${skip}&limit=${limit}`, callback);\r\n    }\r\n\r\n    setSearchProducts(input, callback) {\r\n        this.setSearchRoute = input;\r\n        ProductsRoutes.fetchRoute(this.setSearchRoute, callback);\r\n    }\r\n    \r\n    getAllCategories(callback) {\r\n        ProductsRoutes.fetchRoute(this.allCategoriesRoute, callback);\r\n    }\r\n\r\n    setCategoryProducts(input, callback) {\r\n        this.setCategoryRoute = input;\r\n        ProductsRoutes.fetchRoute(this.setCategoryRoute, callback);\r\n    }\r\n\r\n    getSingleProduct(id, callback) {\r\n        this.setSingleRoute = id;\r\n        ProductsRoutes.fetchRoute(this.setSingleRoute, callback);\r\n    }\r\n}\r\n\r\nconst productsMethods = new ProductsRoutes();\r\nexport default productsMethods;","function localStorageSave(key, value) {\r\n    if(typeof key !== \"string\") throw(\"Key must be string\");\r\n    if(key.length < 3) throw(\"Key must be greater than 2\");\r\n\r\n    value = JSON.stringify(value);\r\n    localStorage.setItem(key, value);\r\n    /* console.log(\"Key:\", key, \"| value\", value, \"| > saved \");\r\n    console.log(`Type of key: ${typeof key}, Type of value ${typeof value}`); */\r\n}\r\n\r\nfunction localStorageGet(key) {\r\n    if(typeof key !== \"string\") throw(\"Key must be string\");\r\n    if(key.length < 3) throw(\"Key must be greater than 2\");\r\n\r\n    const value = localStorage.getItem(key);\r\n    return JSON.parse(value);\r\n}\r\n\r\nfunction localStorageRemove(key) {\r\n    if(typeof key !== \"string\") throw(\"Key must be string\");\r\n\r\n    localStorage.removeItem(key);\r\n}\r\n\r\nexport {localStorageSave, localStorageGet, localStorageRemove};","import {localStorageSave, localStorageGet} from \"./localStorageSaverAndGet\";\r\n\r\nexport default class ProductCard {\r\n    constructor(product) {\r\n        //console.log(product);\r\n        this.thumbnail = product.thumbnail;\r\n        this.title = product.title;\r\n        this.price = product.price;\r\n        this.discountPercentage = product.discountPercentage;\r\n        this.id = product.id;\r\n    }\r\n\r\n    create() {\r\n        const divParent = this.divParent;\r\n        const addTocartButton = this.addToCartButton;\r\n        const containerAndThumb = this.containerAndThumb;\r\n        const bottomInfo = this.bottomInfos;\r\n\r\n        divParent.appendChild(addTocartButton);\r\n        divParent.querySelector(\".product-link\").appendChild(containerAndThumb);\r\n        divParent.querySelector(\".product-link\").appendChild(bottomInfo);\r\n\r\n        return divParent;\r\n    }\r\n\r\n    get divParent() {\r\n        const div = document.createElement(\"div\");\r\n        div.setAttribute(\"product-id\", this.id);\r\n        div.classList.add(\"container-product\");\r\n        \r\n        const a = document.createElement(\"a\");\r\n        a.classList.add(\"product-link\");\r\n        a.setAttribute(\"href\", `product.html?product_id=${this.id}`);\r\n\r\n        div.append(a);\r\n\r\n        return div;\r\n    }\r\n\r\n    get addToCartButton() {\r\n        const btn = document.createElement(\"button\");\r\n        btn.classList.add(\"btn-add-to-cart\");\r\n        \r\n        const span = document.createElement(\"span\");\r\n        span.classList.add(\"material-symbols-outlined\", \"font-size-md\");\r\n        span.innerText = \"add_shopping_cart\";\r\n\r\n        btn.appendChild(span);\r\n\r\n        btn.addEventListener(\"click\", () => {\r\n            const addCartItemLclStrg = ProductCard.addCartItemLclStrg.bind(this);\r\n            addCartItemLclStrg();\r\n        })\r\n\r\n        return btn;\r\n    }\r\n\r\n    static addCartItemLclStrg() {\r\n        let oldValue;\r\n        oldValue = localStorageGet(\"cart-items\");\r\n\r\n        if(oldValue === null) {\r\n            localStorageSave(\"cart-items\", this.id);\r\n            return;\r\n        };\r\n\r\n        localStorageSave(\"cart-items\", `${oldValue}, ${this.id}`);\r\n    }\r\n\r\n    static deleteCartItemLclStrg() {\r\n        let oldValue;\r\n        oldValue = localStorageGet(\"cart-items\");\r\n        if(oldValue === null) {\r\n            return;\r\n        };\r\n\r\n        oldValue = oldValue.split(',');\r\n        oldValue = oldValue.map(value => value.trim());\r\n\r\n        oldValue.splice(oldValue.indexOf(String(this.id)), 1);\r\n        oldValue = oldValue.join(\", \");\r\n\r\n        localStorageSave(\"cart-items\", `${oldValue}`);\r\n    }\r\n\r\n    get containerAndThumb() {\r\n        const div = document.createElement(\"div\");\r\n        div.classList.add(\"container-thumbnail\");\r\n\r\n        const img = document.createElement(\"img\");\r\n        img.setAttribute(\"src\", this.thumbnail);\r\n        div.appendChild(img);\r\n\r\n        return div;\r\n    }\r\n\r\n    get bottomInfos() {\r\n        const div = document.createElement(\"div\");\r\n        div.classList.add(\"container-bottom-infos\");\r\n\r\n        const divTitle = document.createElement(\"div\");\r\n        divTitle.classList.add(\"container-title\");\r\n        const spanTitle = document.createElement(\"span\");\r\n        spanTitle.classList.add(\"normal-font\", \"font-size-base\");\r\n        spanTitle.innerText = this.title;\r\n        divTitle.appendChild(spanTitle);\r\n\r\n        const divPriceAndOthers = document.createElement(\"div\");\r\n        divPriceAndOthers.classList.add(\"container-price-and-others\");\r\n        const spanPrice = document.createElement(\"span\");\r\n        spanPrice.classList.add(\"span-price\", \"normal-font\", \"font-size-md\");\r\n        spanPrice.innerText = `$ ${this.price}`;\r\n        const discount = document.createElement(\"span\");\r\n        discount.classList.add(\"discount\", \"normal-font\");\r\n        discount.innerText = `${this.discountPercentage}% OFF`;\r\n        divPriceAndOthers.appendChild(spanPrice);\r\n        divPriceAndOthers.appendChild(discount);\r\n\r\n        div.appendChild(divTitle);\r\n        div.appendChild(divPriceAndOthers);\r\n\r\n        return div;\r\n    }\r\n}","import productsMethods from '../productApi';\r\nimport ProductCard from '../productCard';\r\n\r\n(() => {\r\n    const searchItem = new URLSearchParams(window.location.search).get(\"q\");\r\n\r\n    \r\n    productsMethods.setSearchProducts(searchItem, res => {\r\n        res.products.forEach(product => {\r\n            addToPage(new ProductCard(product).create());\r\n        });\r\n    })\r\n\r\n    function addToPage(item) {\r\n        const searchItemsContainer = document.querySelector(\".search-items\");\r\n\r\n        searchItemsContainer.appendChild(item);\r\n    }\r\n})();"],"names":["ProductsRoutes","_classCallCheck","Object","defineProperty","this","enumerable","writable","configurable","value","concat","mainRoute","searchLink","get","set","singleId","id","searchCategory","key","skip","arguments","length","undefined","limit","callback","fetchRoute","allProductsRoute","input","setSearchRoute","allCategoriesRoute","setCategoryRoute","setSingleRoute","route","fetch","then","res","json","data","localStorageSave","JSON","stringify","localStorage","setItem","localStorageGet","getItem","parse","searchItem","ProductCard","product","thumbnail","title","price","discountPercentage","oldValue","split","map","trim","splice","indexOf","String","join","divParent","addTocartButton","addToCartButton","containerAndThumb","bottomInfo","bottomInfos","appendChild","querySelector","div","document","createElement","setAttribute","classList","add","a","append","_this","btn","span","innerText","addEventListener","addCartItemLclStrg","bind","img","divTitle","spanTitle","divPriceAndOthers","spanPrice","discount","URLSearchParams","window","location","search","productsMethods","setSearchProducts","products","forEach","item","create"],"sourceRoot":""}